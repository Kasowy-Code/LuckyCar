<section class="main">
  <form>
    <h1>Register</h1>
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput [formControl]="name" (ngModelChange)="error = false;" [required]="true">
        <mat-error *ngIf="name.invalid">{{getErrorMessage(name)}}</mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field appearance="outline">
        <mat-label>Surname</mat-label>
        <input matInput [formControl]="surname" (ngModelChange)="error = false;" [required]="true">
        <mat-error *ngIf="surname.invalid">{{getErrorMessage(surname)}}</mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput [formControl]="email" (ngModelChange)="error = false;" [required]="true">
        <mat-error *ngIf="email.invalid">{{getErrorMessage(email)}}</mat-error>
      </mat-form-field>
    </p>
    <p *ngIf="error" style="color: red">Coś poszło nie tak!</p>
    <button mat-raised-button [class.spinner]="loading" [disabled]="loading" (click)="register()">Register</button>
    <p class="log">
      Have already an account? <a class="login" routerLink="/login">Login here</a>
    </p>
  </form>
</section>
